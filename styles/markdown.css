/* TODO: adjust colors */
:root {
  --fraction: #85a3dbff;
  --operator-color: #7147f0ff;
  --relation-color: #3b99f6ff;
  --bracket-color: #2563ebff;
  --punctuation-color: #0284c7ff;
  --function-color: #1fb1ffff;
  --math-foreground: #000000ff;
}

.dark {
  --fraction: #2974ffff;
  --operator-color: #7147f0ff;
  --relation-color: #3b99f6ff;
  --bracket-color: #3b82f6ff;
  --punctuation-color: #0284c7ff;
  --function-color: #1fb1ffff;
  --math-foreground: #ffffffff;
}

article {
  hr {
    @apply border-border;
  }

  blockquote {
    @apply border-l-4 border-border pl-4;
  }

  table {
    @apply w-full border-collapse m-0;
    contain: layout;

    thead {
      tr {
        @apply bg-card/50 border-b border-border;

        th {
          @apply px-4 py-3 text-left text-sm font-semibold;
        }
      }
    }

    tbody {
      tr {
        @apply border-b border-border;

        td {
          @apply px-4 py-3 text-sm;
        }

        &:last-child {
          @apply border-b-0;

          td {
            @apply first:rounded-bl-lg last:rounded-br-lg;
          }
        }
      }
    }
  }
}

/* inline math */
.large-math .katex {
  font-size: 1.4em;
}

/* block math */
.large-math .katex-display .katex {
  font-size: 1.4em;
  margin: 0.5rem 0;
}

/* scroll wide math expressions */
.katex-display {
  display: block;
  overflow-x: auto;
  white-space: nowrap;
  padding: 0.5em 0;
  contain: layout style paint;
}

.katex-display > .katex {
  display: inline-block;
  min-width: max-content;
}

/* colored markdown KaTeX */

.katex .mathdefault,
.katex .mord {
  color: var(--math-foreground);
}

.colored-markdown .katex * {
  border-color: var(--fraction);
  border-bottom: 3px var(--fraction);
}

/* operators (+, -, *, /) */
.colored-markdown .katex .mbin {
  color: var(--operator-color);
  font-weight: bold;
}

/* relations (=, <, >) */
.colored-markdown .katex .mrel {
  color: var(--relation-color);
  font-weight: bold;
}

/* fractions, roots, parentheses, etc. */
.colored-markdown .katex .mopen,
.colored-markdown .katex .mclose {
  color: var(--bracket-color);
}

/* commas, semicolons */
.colored-markdown .katex .mpunct {
  color: var(--punctuation-color);
}

/* functions like lim, cos, etc. */
.colored-markdown .katex .mop {
  color: var(--function-color);
}
